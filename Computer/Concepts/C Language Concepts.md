# C语言概念/C Language Concepts

————

序言：此笔记由笔者于《C Promer Plus》第六版进行C语言的学习中，将作者所提及的概念抽取、汇编而成，第一次完整提交只会摘录对于笔者而言有用部分，后续将在第二次、第三次逐渐完善。

---

# [目录](#目录)
1. [C语言概述](#c语言概述)
2. [数据和C](#2数据和c)
3. [字符串和格式化输入/输出](#3字符串和格式化输入输出)
4. [运算符、表达式和语句](#4运算符表达式和语句)
5. [C控制语句：循环](#5c控制语句循环)
6. [C控制语句：分支和跳转](#6c控制语句分支和跳转)
7. [字符输入/输出和输入验证](#7字符输入输出和输入验证)
8. [函数](#8函数)

---

## 1.C语言概述

1.C程序一定从函数main()开始执行。

2.声明、变量、数据类型、关键字、标识符。
- 关键字表示一种基本的C语言数据类型，是C语言定义的单词，不能用作他用，例如用作变量的标识符。
- 标识符是一个变量、函数或其他实体的名称，即命名。可以用小写字母、大写字母、数字、下划线命名，但是第一个字符必须是字母或下划线。

3.赋值表达式语句，是给声明的变量给与一个你定的值，也是变量命名的原因，需注意的是是从右侧把值赋给左侧。

4.参数分为实际参数（简称实参）、形式参数（形参）。

5.函数调用中的主调函数。

6.转义序列，例如\n（换行符）、\t代表Tab键、\b代表Backspace键（退格键）。

7.程序由一个或多个函数组成。

8.函数由函数头和函数体组成。
- 函数头包括函数名、转入该函数的信息类型和函数的返回类型。通过函数名后的圆括号可识别出函数，圆括号里可能为空，可能有参数。
- 函数体被花括号括起来，由一系列语句、声明组成。
- 还有函数原型=函数声明（指明了函数的属性，例如void，理解为该函数没有返回值），函数调用，函数定义。

---

## 2.数据和C

1.变量与常量数据。
- 有些数据类型在程序使用之前就已经预先设定好了，在整个程序运行过程中没有变化，这些被称为常量。
- 有些数据类型在程序运行期间可能会改变或被赋值，这些被称为变量。

2.数据：数据类型关键字，可分为整数类型和浮点类型。
- 整数使用二进制存储。
- 浮点数类型稍有复杂，在整数类型的基础上，在后方加上一个小数点，就成为了浮点数。在计算机里分为小数部分、指数部分进行存储。

3.C语言基本数据类型。
- int是有符号整型。在声明数据类型时，都需要进行初始化，为变量赋一个初始值，可以直接在声明中完成。
- 其他整数类型，都是基于int类型的长短或正负而存在，从短到长依次为short int、long int、long long int。unsigned int则用于非负数环境，同样的也有unsigned short int，unsigned long int，unsigned long long int。
- 打印，指的是使用printf或其他类似功能的函数在屏幕上直接输··出的可观的程序运行的结果，unsigned使用%u，long类型的使用%ld，short类型的使用h为前缀（打印时还会有三种显示选择，分别是八进制、十进制、十六进制，分别由%o、%d、%x代表，同时，也可用%#o、%#x、%#X显示前缀。这里所说的前缀是指在进制选择前添加）
- char类型是用于存储字符（字母或标点符号），且也是整数类型，因为字母是用ASCII码表示，而ASCII码由7位二进制数表示。char类型的打印是用%c。
- _Bool类型，用于表示布尔值，即逻辑true和false，C语言中用1表示true，0表示false。整数类型。
- 可移植型：stdint.h头文件中提供了更精确的数据类型控制，例如精确宽度整数类型、最小宽度类型、最快最小宽度类型。inttypes,h头文件则含有以上所述的相对应的输入和输出。
- float、double和long double，与int及其他整数类型相同。打印十进制计数法时用%f，指数计数法是%e，有时还会出现两个现象，浮点值的上溢和下溢（当计算数字过大时，超出了所声明的数据类型存储范围的上限，将会给该变量赋一个表示无穷大的特定值，且printf（）显示该值为inf或infinity或具有无穷含义的其他值，这叫做浮点值的上溢。当计算数字过小时，超过了所声明的数据类型存储范围的下限，将会损失原末尾有效位上的数字，这叫做浮点值的下溢，具体内容可在书上51页查看。）。
- 虚数和复数类型，复数包括float_Complex、double_Complex、long double _Complex，float_Complex包含两个float类型的值，分别表示复数的实部和虚部。虚数包括float_Imaginary、double_Imaginary、long double _Imaginary。如果包含complex.h头文件，可用complex表示_Complex，用imaginary表示_Imaginary，I代表-1的平方根。

---

## 3.字符串和格式化输入/输出

1.字符串。
- 字符串是一个或多个字符的序列，双引号用于标识字符串，单引号用于标识单个字符，字符串都被存储在char类型的数组中，用\0（空字符）标识字符串的结束，用%s打印字符串。
- 数组是同类型数据元素的有序序列。
- 符号常量，在运行程序前先用某个特定的符号标识程序中一个不会发生改变的常量。明示常量，使用C语言自带的C预处理器--#define也可达成相同效果，注意，末尾不用加分号。const关键字，用于限定一个变量为只读（不能修改）。
- printf（）和scanf（），输入输出函数，简称I/O函数。使用printf（）函数时，用于打印的%d这类符号叫转换说明，对于转换说明，篇幅较大，内容繁杂，可在书上69到71页查看，转换说明修饰符可在71到75页查看，如输出正确则会返回打印字符的个数，错误的话会返回负值。用scanf（）函数时，读取基本变量类型的值需在前面加上一个&，将字符串读入字符数组中则不需要，和printf（）函数一样，scanf（）也有转换说明，在书上80~81页，scanf（）函数返回成功读取的项数，如果没有读取任何项，且需要读取一个数字而用户却输入一个非数值字符串，scanf（）便返回0，当scanf（）检测到“文件结尾”时，会返回EOF（EOF是stdio.h中定义的特殊值，通常用#define指令把EOF定义为-1）。
- printf（）和scanf（）的*修饰符见书上82~84页
- printf（）函数中转换说明的意义，转换说明需与数据类型相对应，否则会导致输出异常，具体表现为参数传递时printf（）函数读取字节与所需的不同，具体可在书上77页查看。

---

## 4.运算符、表达式和语句

1.简介。
- 块，在程序里是用花括号括起来的部分和花括号组成。

2.基本运算符。
- C语言里用运算符表示算术运算。
- 赋值运算符：=，使用时会输入一个类似于数学等式的语句，和数学不同的是，=将处于它右边的值赋与左边的变量名。
- 术语：数据对象，用于存储值的数据存储区域统称为数据对象，使用变量名是标识对象的一种方法，对象是实际的数据存储，因为程序创建变量，声明变量名，本质上是从计算机内部存储区域划出一块区域，并用变量名进行标识。左值，用于标识特定对象的名称或表达式，是标识或定位存储位置的标签，后因const限定符，新增一个名为：“可修改的左值”这个术语，根据当前标准建议，使用术语：“对象定位值“更好。右值，可以赋值给可修改的左值的量，且本身不是左值，实际上，当前标准在使用这一概念时应为”表达式的值“。运算对象，在程序中，被称为项的就是运算对象，也是运算符操作的对象。
- 加法运算符：+，加法运算符用于加法运算，使其两侧的值相加。
- 减法运算符：-，减法运算符用于减法运算，使其两侧的值相减，+和-运算符都被称为二元运算符，即需要两个运算对象才能完成操作。
- 符号运算符：+和-，用于标明或改变一个值的代数符号，被称为一元运算符，只需要一个运算对象。
- 乘法运算符：*，表示乘法。
- 除法运算符：/，表示除法，/左侧的值是被除数，右侧的值是除数，其中，浮点数除法结果是浮点数，整数除法结果是整数，如实际结果有小数部分将会被丢弃，这一过程被称为截断。
- 运算符优先级：（）> +、-（一元） > *、/ > +、-（二元）> = 。与求值顺序挂钩。

3.其他运算符。
- 求模运算符：%，用于整数运算，给出其左侧整数除于右侧整数的余数，其中，负数求模在如今，第一个运算对象是负数，那结果就为负数，是正数，那结果也是正数，实际上，标准规定，无论何种情况，只要a和b是整数，都可以用a-（a/b）*b来计算a%b。
- 递增运算符：++，将其运算对象递增1，以两种方式出现，++出现在其作用的变量前面是前缀模式，在表达式中是运行前递增1，++出现在其作用的变量后面是后缀模式，在表达式中是运行后递增1.
- 递减运算符：--，与递增运算符++差不多，它们都是关系运算符。
- 优先级：只有圆括号的优先级比它们高
- ++、--注意事项：1.如果一个变量出现在一个函数的多个参数中，不要对该变量使用++或--，2.如果一个变量多次出现在一个表达式中，不要对该变量使用++或--。

4.表达式和语句。
- 表达式：由运算符和运算对象组成，一些表达式由子表达式（即较小的表达式）组成。
- 语句：是C程序的基本构建块。
- 副作用和序列点：副作用是对数据对象或文件的修改，从C语言的角度来看，对表达式求值才是目的，类似的，使用printf（）函数时，显示的信息就是副作用。序列点是程序执行的点，在该点上，所有副作用都在进入下一步之前完成，在C中，语句的分号标记了一个序列点。完整表达式，就是指这个表达式不是另一个更大表达式的子表达式。
- 复合语句（块）：是用花括号括起来的一条或多条语句，也被称为块。

5.类型转换。
- 通常，在语句和表达式中应使用类型相同的变量和常量，如果混合类型使用，将会进行自动类型转换，以下是它的一些规则：
    - 当类型转换出现在表达式时，无论时unsigned还是signed的char和short都会被自动转换成int，如有必要会被转换成unsigned int，由于都是从较小类型转换为较大类型，这些转换被称为升级
    - 涉及两种类型的运算，两个值会被分别转换成两种类型的更高级别。
    - 类型的级别高低依次是l d、d、f、u l l、l l、u l、l、u i、i，当l和i大小相同时（为什么会相同？可看数据类型时书上讲的对不同系统，数据类型的长短不一样），u i会比l级别高，没有short和char是因为已被升级为i或u i。
    - 在赋值表达式语句中，计算的最终结果会被转换成被赋值变量的类型，可能会导致类型升级或降级，降级是指一种类型转换成更低级别的类型。
    - 作为函数参数传递时，char和short被转换成int，float被转换成double，函数原型会覆盖自动升级。
    
    其中，升级通常都不会有什么问题，降级会导致真正的麻烦：较低类型可能放不下整个数字。
- 强制类型转换：在某个量的前面放置用圆括号括起来的类型名，该类型名即是希望转换的目标类型，圆括号和它起来的类型名构成了强制类型转换运算符。

6.带参数的函数。
- 在函数头中，声明参数就创建了被称为形式参数的变量。
- 在函数中，从主调函数调用传递的值称为实际参数。
- 函数调用中原型即是函数的声明，描述了函数的返回值和参数。

---

## 5.C控制语句：循环

1.程序流。
- 对于计算机科学（是研究计算机，而不是用计算机做研究）而言，一门语言应该提供以下三种形式的程序流，1.执行语句序列，2.如果满足某些条件就重复执行语句序列（循环），3.通过测试选择执行哪一个语句序列。

2.while循环。
- ==是C语言的相等运算符。
- 伪代码，是一种用简单的句子表示程序思路的方法。
- while循环是入口条件循环，程序在进入循环体之前必须获取输入的数据并检查是否满足条件，而条件是让语句部分执行的取决于测试表达式描述的条件，该表达式是一个入口条件。
- 在构建while循环时，必须让测试表达式的值有变化，表达式最终要为假，否则，循环就不会终止（实际上，用break和if语句也可以终止循环），要明确一点：只有在对测试条件求值时，才决定是终止还是继续循环。
- 使用while时，要明确只有在测试条件后面的单独语句（简单语句或复合语句）才是循环部分。
- 无限循环，顾名思义，没有外部干涉的情况下，就不会退出，一直循环下去。
- while循环经常仰赖测试表达式作比较，这样的表达式被称为关系表达式，出现在关系表达式中间的运算符叫作关系运算符。
- 对C语言而言，表达式为真的值为1，表达式为假的值为0，一般而言，C语言中所有的非零值都视为真，只有0被视为假，可用_BOOL类型代替真、假。
- 不确定循环和··计数循环，不确定循环指在测试表达式为假之前，预先不知道要循环多少次，计数循环则在执行循环之前就知道要循环多少次。
- 在创建一个重复执行固定次数的循环中涉及了3个行为，1.必须初始化计数器，2.计数器与有限的值作比较，3.每次循环时递增计数器。

3.for循环。
- for循环将上述初始化、测试和更新组合在一起。for循环后面的圆括号里有三个表达式，分别是循环条件的初始值、循环条件的终止值以及每次循环一次后循环条件的增减量。
- for循环的九种用法：
    - 可以使用递减运算符来递减计数器。
    - 可以让计数器递增2、10等。
    - 可以用字符代替数字计数。
    - 除了测试迭代次数外，还可以测试其他条件。
    - 可以让递增的量几何增长，而不是算术增长。
    - 第三个表达式可以使用任意合法的表达式。
    - 可以省略一个或多个（但是不能省略分号），只要在循环中包含能结束循环的语句即可。
    - 第一个表达式不一定是给变量赋初值，也可以使用printf（），记住，在执行循环的其他部分之前，只对第一个表达式求值一次或执行一次。
    - 循环体中的行为可以改变循环头中的表达式。

4.其他赋值运算符。
- 假设有a=b，将=换成+=、-=、*=、/=、%=，将会变成以下几种样式：
a.a+=b等于a=a+b。
b.a-=b等于a=a-b。
c.a*=b等于a=a*b。
d.a/=b等于a=a/b。
e.a%=b等于a=a%b。
- 逗号运算符：1.保证了被它分隔的表达式从左往右求值（换言之，逗号是一个序列点，所以逗号左侧项的所有副作用都在程序执行逗号右侧项之前发生），2.整个逗号表达式的值是右侧项的值。

5.出口条件循环：do while。
- 出口条件循环，即在循环的每次迭代之后检查测试条件，这保证了至少执行循环体中的内容一次。

6.如何选择循环？先确定是需要入口条件循环还是出口条件循环，一般入口条件用的比较多，因为在循环执行前测试条件比较好，测试放在循环开头可读性更高。当循环涉及初始化和更新变量时，例如索引计数，用for比较好，而在其他情况用while比较好。

7.嵌套循环是指在一个循环内包含另一个循环，常用于按行和列显示数据，一个处理所有行，一个处理所有列，在外面的循环叫外循环，在里面的循环叫内循环。

8.数组。
- 数组是按顺序存储的一系列类型相同的值，整个数组有一个数组名，通过整数下标访问数组中单独的项或元素。
- 识别数组元素的数字被称为下标、索引或偏移量，下标必须是整数，而且要从0开始，数组的元素被依次存储在内存中相邻的位置，
- 可在for循环中使用数组，但要遵循模块化，即把程序分成不同的独立单元。

9.使用函数返回值的循环示例，书上143~144页。

---

## 6.C控制语句：分支和跳转

1.if语句。
- if语句被称为分支语句或选择语句，因为它相当于一个交叉点，程序要在两条分支中选择一条执行。
- if else语句，可以在两条语句中做选择，如果要在if和else之间执行多条语句，需用花括号括起来成为一个块，且if和else之间只允许有一条语句，

2.getchar（）和putchar。
- 字符输入和输出函数，与scanf（）和printf（）不同，输入字符不需要转换说明，且它们是预处理宏。

3.多重选择else if。
- 多条if else语句嵌套时，因为整个if else语句被视为一条语句，所以不必把嵌套的if else语句用花括号括起来。
- 多条if else语句嵌套时，如果没有花括号，else与离它最近的if匹配，除非最近的if被花括号括起来。
- 多层嵌套的if语句。

4.逻辑运算符。
- 逻辑运算符两侧的条件都必须为真，整个表达式才为真，且优先级比关系运算符低，所以不必在子表达式两侧加圆括号。

5.条件运算符。
- C提供条件表达式作为表达if else语句的一种便捷方式，该表达式使用？：条件运算符，分为两个部分，需要三个运算对象，也是C中唯一一个三元运算符，？前面相当于问题，：两侧则是不同的回答。

6.循环辅助：continue和break
- continue语句，执行到该语句时，会跳过本次迭代的部分并开始下一轮循环。
- break语句，执行到该语句时，会终止包含它的循环，并继续执行下一阶段。

7.多重选择：switch和break。
- switch语句，对紧跟在关键字switch后的圆括号中的表达式求值，然后扫描标签列表（case），直到有一个与值对应，如果没有对应的值，会有一个名为default的预设作为返回值。switch在圆括号中的测试表达式的值应该是一个整数值（包括char类型），case标签必须是整数类型（包括char类型）的常量或常量表达式（即表达式中只包含整形常量），不能用变量作为case标签。

8.只读每行的首字符，可在getchar（）后加continue，可跳过除首字符外的其他字符。

9.goto语句，有两部分，分别是goto和标签名，标签命名遵循变量命名规则，使用如下：goto part;以及part：printf（）。其作用为程序执行到goto part语句后，将会直接跳转到part ：printf（）语句，无视所有，主要用于出现问题时从一组嵌套循环中跳出。

---

## 7.字符输入/输出和输入验证

1.单字符I/O：getchar（）和putchar（）。
- 每次只能处理一个字符。

2.缓冲区。
- 回显用户输入的字符后立即重复打印该字符是属于无缓冲（或直接）输入，用于即时反应。摁下enter之前不会重复打印刚输入的字符，这种输入形式属于缓冲输入，用户输入的字符被收集并存储在一个被称为缓冲区的临时存储区，用于需要修改。
- 缓冲分为两类：完全缓冲I/O和行缓冲I/O。完全缓冲输入指的是当缓冲区被填满时才刷新缓冲区（被发送到目的地），通常出现在文件输入中。行缓冲I/O指的是在出现换行符时刷新缓冲区，用于键盘输入。

3.结束键盘输入。
- 文件、流和键盘输入。文件是存储器中存储信息的区域，通常都保存在某种永久存储器中。可以直接调用操作系统的函数被称为底层I/O。从概念上来看，C语言直接处理的不是文件而是流，流是一个实际输入或输出映射的理想化数据流。

4.文件结尾。
- 检查文件结尾的一种方法是，在文件末尾放一个特殊的字符标记文件结尾。
- 在C语言中，getchar（）读取文件检测到文件结尾时将返回一个特殊的值，即EOF，scanf（）函数检测到文件结尾时也返回EOF，因为EOF都不对应任何字符。

5.重定向和文件。
- 重定向输入。文本文件是内含文本的文件，其中存储的数据是我们可识别的字符，<符号是重定向运算符，
- 重定向输出。>符号是第二个重定向运算符。
- 组合重定向。
    - 重定向运算符连接一个可执行程序和一个数据文件。
    - 使用重定向运算符不能读取多个文件的输入，也不能把输出定向至多个文件。
    - 通常，文件名和运算符之间的空格不是必须的。

6.创建更友好的用户界面。
- 使用缓冲输入，如何读取单个字符？可用while循环丢弃输入行最后剩余的内容，包括换行符。
- 混合数值和字符输入。getchar（）读取每个字符，包括了、空格、制表符和换行符，而scanf（）在读取数字时则会跳过空格、制表符和换行符。
- 输入验证，可用关系表达式验证。

---

## 8.函数

1.复习函数。
- 函数是完成特定·任务的独立程序代码单元，语法规则定义了函数的结构和使用方式，还可以省去重复编写代码的苦差。
- 黑盒。把函数看作是根据传入信息（输入）及其生成的值或响应的动作（输出）来定义的黑盒，不用关心里面有什么？
- 创建并使用函数。1.函数原型告诉编译器函数的类型。函数调用表明在此处执行函数。函数定义明确地指定了函数要做什么。
- 函数与变量一样，有多种类型，任何程序在使用函数之前都要声明该函数的类型，分号表明这是在声明函数，不是在定义函数。
- 函数原型指明了函数的返回值类型和函数接受的参数类型，这些信息被称为该函数的签名。
- 主调函数即为调用函数的函数。
- 函数头后面没有分号，意味着是在定义函数，而不是在调用函数或声明函数原型。
- 函数中的变量是局部变量，即只属于该函数。
- 函数原型后面圆括号中声明的变量被称为形式参数，也是局部变量，且在每个变量前都要声明其类型，不能使用同一类型的变量列表，也可以直接省略函数名，因为使用的是变量名并没有实际创建变量，在函数体中声明变量则和之前一样。形式参数是被调函数中的变量，实际参数是主调函数赋给被调函数的具体值。
- 被设计用于测试函数的程序被称为驱动程序。
- 函数类型指的是返回值类型，不是函数参数的类型。
- 主调函数把它的参数存储在被称为栈的临时存储区，被调函数从栈中读取这些参数。
- 使用函数原型是为了让编译器在第一次执行到该函数之前就知道如何使用它，因此把整个函数定义放在第一次调用函数之前，也有相同的效果，此时，函数定义相当于函数原型，通常用在较小的函数，

2.递归。
- C语言允许函数调用它自己，这种调用过程称为递归，结束递归是使用递归的难点，且效率没有循环高，但比循环更简洁。
- 每级递归的变量都只属于本级递归私有。
- 递归的基本原理：
    - 每级函数调用都有自己的变量。
    - 每次函数调用都会返回一次，当函数执行完毕后，控制权将被传回上一级递归。
    - 递归函数中位于递归调用之前的语句，均按被调函数的顺序执行。
    - 递归函数中位于递归调用之后的语句，均按被调函数的相反顺序执行。
    - 虽然每级递归都有自己的变量，但是并没有拷贝函数的代码。
    - 递归函数必须包含能让递归调用停止的语句。
- 尾递归，最简单的递归形式，将递归调用置于函数的末尾，即正好在return之前，相当于循环。
- 递归在处理倒序时比循环非常方便。
- 递归的优缺点，优点是递归为某些编程问题提供了最简单的解决方案。缺点是一些递归算法会快速消耗计算机的内存资源，另外，递归不方便阅读与维护·。
- 在C语言中，每个函数都是平等的，每个函数都可以调用其他函数，或被他函数调用。

3.编译多源代码文件的程序。
- 项目描述的是特定程序使用的资源，包括源代码文件。
- 可以将函数原型放进头文件中，可被不同的程序调用，把函数原型和已定义的字符常量放在头文件中是一个良好的编程习惯。
- C语言的两个规则，1.从左往右对逻辑表达式求值，2.一旦求值结果为假，立即停止求值。

4.查找地址：&运算符。
- 指针，用于存储变量的地址，是一个值为内存地址的变量（或数据对象），如果主调函数不使用return返回的值，则必须通过地址才能修改主调函数中的值，一元&运算符给出变量的存储地址。
- 间接运算符：*，可找出存储在变量中的值，有时也被称为解引用·运算符。
- 声明指针变量时，必须指定指针所指向变量的类型，*表明声明的变量是一个指针。

---

## 笔者想说的：
初入计算机这个行业，笔者就像在迷雾丛生的深林里寻找通路的行人，无意踏入这个在笔者此前人生中从未出现过的领域。可是木已成舟，人生的道路无法回退，无论是时间或是笔者自己都在不断地向着前方行进，历经较为漫长的时间后，笔者终于想明白了这个问题，行人就此转变为了初出茅庐的探路者。这是笔者真正踏出的第一步，希望往后的每一天，笔者都能踏出一步，不负自己。
**“心有所向，日复一日，必有精进。”**
在此，附上笔者喜欢的一句话，望与诸君共勉。

————